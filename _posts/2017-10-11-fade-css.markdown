---
layout: post
title:  "纯css实现网站背景图片变换"
categories: css
tags:  css 效果
author: Beats0
---

* content
{:toc}

用纯css实现网站背景图片变换,用到了css3的动画效果和CSS中:nth-child选择器，主要使用自定义动画效果`Animation@keyframe`。@keyframe不仅能对图片有效，对div以及文字也有效果，定义的动画效果可以实现光影效果，发散效果，旋转效果，放大缩小效果，颜色交替叠加效果等，更高级的可以配合canvas使效果更佳。

效果：
```css
@keyframes Animation {
    0% {
        opacity: 0;
        animation-timing-function: ease-in;
    }
    8% {
        opacity: 1;
        transform: scale(1.05);
        animation-timing-function: ease-out;
    }
    17% {
        opacity: 1;
        transform: scale(1.1) rotate(0deg);
    }
    25% {
        opacity: 0;
        transform: scale(1.1) rotate(0deg);
    }
    100% {
        opacity: 0
    }
}
```

注意写上浏览器兼容性:`@keyframes``@-webkit-keyframes``@-moz-keyframes``@-o-keyframes``@-ms-keyframes`另外`:nth-child`不支持IE8以下浏览器<br>
css代码详见[/css/fade.css](https://github.com/Beats0/Beats0.github.io/blob/master/css/fade.css)










## 详解：
### html部分
首先在html中的head里添加样式：
```css
<style type="text/css">
        .cb-slideshow li:nth-child(1) span {
            background-image: url(/images/1.jpg);
        }
        .cb-slideshow li:nth-child(2) span {
            background-image: url(/images/2.jpg);
        }
        .cb-slideshow li:nth-child(3) span {
        background-image: url(/images/3.jpg);
        }
</style>
```

关于imgages的数量可在body中添加修改：

```html
<section class="hidden-xs">
    <ul class="cb-slideshow">
        <li><span>苟利</span></li>
        <li><span>国家</span></li>
        <li><span>生死以</span></li>
    </ul>
</section>
```
这样的意思就是将对应的child下的img放入到对应的li中
### css部分
css代码详见[/css/fade.css](https://github.com/Beats0/Beats0.github.io/blob/master/css/fade.css)

```css
.cb-slideshow li span {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0px;
    left: 0px;
    color: transparent;
    background-size: cover;
    background-position: 50% 50%;
    background-repeat: no-repeat;
    opacity: 0;
    z-index: -2;
    -webkit-backface-visibility: hidden;
    animation: imageAnimation 36s linear infinite 0s;
```
对不同span设置不同的显示时间，以此达到图片交错的效果
```css
.cb-slideshow li:nth-child(1) span {
}

.cb-slideshow li:nth-child(2) span {
    -webkit-animation-delay: 6s;
    -moz-animation-delay: 6s;
    -o-animation-delay: 6s;
    -ms-animation-delay: 6s;
    animation-delay: 6s;
}

.cb-slideshow li:nth-child(3) span {
    -webkit-animation-delay: 12s;
    -moz-animation-delay: 12s;
    -o-animation-delay: 12s;
    -ms-animation-delay: 12s;
    animation-delay: 12s;
}
```

设置imageAnimation动画效果
```css
@keyframes imageAnimation {
    0% {
        opacity: 0;
        animation-timing-function: ease-in;
    }
    8% {
        opacity: 1;
        transform: scale(1.05);
        animation-timing-function: ease-out;
    }
    17% {
        opacity: 1;
        transform: scale(1.1) rotate(0deg);
    }
    25% {
        opacity: 0;
        transform: scale(1.1) rotate(0deg);
    }
    100% {
        opacity: 0
    }
}
```

## 附录
*:nth-child方法*

方法 | 描述 |
-----|-----|
:nth-child(2)     | 选取第几个标签，“2可以是你想要的数字”
:nth-child(n+4)   | 选取大于等于4标签，“n”表示从整数，下同
:nth-child(-n+4)  | 选取小于等于4标签
:nth-child(2n)    | 选取偶数标签，2n也可以是even
:nth-child(2n-1)  | 选取奇数标签，2n-1可以是odd
:nth-child(3n+1)  | 自定义选取标签，3n+1表示“隔二取一”
:last-child       | 选取最后一个标签
:nth-last-child(3)| 选取倒数第几个标签,3表示选取第3个

## 参考

- [fade.css](https://github.com/Beats0/Beats0.github.io/blob/master/css/fade.css)
- [www.mygalgame.com](https://www.mygalgame.com)
- [cssslider:纯 CSS 的图片轮播图](http://cssslider.com/)
